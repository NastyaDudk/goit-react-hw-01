import{i as v,S as B}from"./assets/vendor-7659544d.js";import C from"axios";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();const q="42175181-9f2e4ea0c75ffabf50c3ef9f9";function y(e){iziToast.success({title:"Success",message:e,position:"topRight"})}function s(e){iziToast.error({title:"Error",message:e,position:"topRight"})}const u=document.querySelector(".gallery"),c=document.getElementById("loader"),h=document.getElementById("load-more"),S=document.getElementById("search-form"),f=document.getElementById("loading-indicator");let d=1,p="",x=0;function l(e){h.style.display=e?"block":"none"}let P=0;async function L(e,r=1){const a=`https://pixabay.com/api/?key=${q}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&page=${r}&per_page=15`;try{const n=await C.get(a);return P=n.data.totalHits,n.data.hits}catch(n){throw console.error("Error fetching images:",n),s("Failed to fetch images."),n}}async function T(){const e=u.querySelector(".image-card").getBoundingClientRect().height;window.scrollBy({top:2*e,left:0,behavior:"smooth"})}S.addEventListener("submit",async function(e){e.preventDefault(),l(!1);const r=document.getElementById("query").value.trim();if(!r){v.warning({title:"Warning",message:"Please enter a search query."});return}try{c.style.display="block",p=r,d=1;const a=await L(r,d);a.length>0?(H(a),y(`Was found: ${a.length} images`),w(),l(!0)):(u.innerHTML="",s("Sorry, there are no images matching your search query. Please try again!"),l(!1))}finally{c.style.display="none"}});h.addEventListener("click",async function(){try{c.style.display="block",f.style.display="block",d++;const e=await L(p,d);e.length>0?(b(e),y(`Loaded additional ${e.length} images`),w(),e.length<15&&(s("We are sorry, but you have reached the end of search results."),l(!1)),T()):(s("No more images to load"),l(!1))}catch(e){console.error("Error fetching images:",e),s("Failed to fetch additional images.")}finally{c.style.display="none",f.style.display="none"}});function H(e){u.innerHTML="",b(e)}function b(e){const r=document.createDocumentFragment();e.forEach(a=>{const{largeImageURL:n,webformatURL:t,tags:o,likes:i,views:E,comments:$,downloads:I}=a,m=document.createElement("div");m.classList.add("image-card"),m.innerHTML=`
            <a href="${n}" data-lightbox="image-set" data-title="${o}">
                <img src="${t}" alt="${o}">
                <div class="info">Likes: ${i}, Views: ${E}, Comments: ${$}, Downloads: ${I}</div>
            </a>
        `,r.appendChild(m)}),u.appendChild(r),x+=e.length}let g=null;function w(){g&&g.destroy(),g=new B(".gallery a")}
//# sourceMappingURL=commonHelpers.js.map
